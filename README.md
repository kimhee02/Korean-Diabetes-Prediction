# 🏥한국인 성별 맞춤형 당뇨 예측 모델 개발

#### [프로젝트 기간] **2025년 02월 22일 ~ 진행 중**  

#### [팀원] **3명**
- 김정희, 김유빈, 서주희


### 1. 주제 선정 배경
- 2023년도에 우수상 수상한 프로젝트 재분석
- 통계적 방법과 기계학습 방법을 활용한 다양한 연구들이 수행되어왔으나 기계학습 기반 모델이 항상 높은 성능을 보이는 것은 아니었음.  
- 대부분의 연구는 성별을 단순 설명 변수로만 포함하여 성별 간 차이를 충분히 반영하지 못함.
- 남녀 간 당뇨병 유병률 양상과 위험요인, 생활습관의 차이가 뚜렷하게 나타나기 때문에, 성별 특성을 반영한 맞춤형 당뇨 예측 모델의 개발이 필요함.


### 2. 프로젝트 개요  
- 남성과 여성 각각의 특성을 반영하여 예측 성능 및 주요 예측 변수의 차이 규명 
- 도시 기반 코호트에서 학습 후 지역사회 기반 코호트에서 검증함으로써 한국인 성별 맞춤형 당뇨 예측모델 개발


 ### 3. 데이터 분석 
 - 한국인유전체역학조사사업(KoGES) 데이터 활용
 - 서울에 집중한 도시기반 코호트(Hexa) 1기 데이터와 지역 기반 사회 코호트 3기 데이터를 활용한 비교 분석 진행


#### 3-1. 데이터 전처리 
- 도시 기반 코호트 : 173,357명 / 지역사회 기반 코호트 : 7,515명 사용
- 두 코호트에서 과거 당뇨병 걸린 이력이 있는 대상자 제외 > 공통 수집 된 변수 및 결측값 비율이 높은 변수 제거
- 최종 사용 데이터 ) 도시기반 코호트 기반 코호트 : 106,866명 / 지역사회 기반 코호트 : 6,542명


#### 3-2. 데이터 모델링 
- 도시 기반 코호트에서 모델 학습 과 검증 및 내부 테스트 완료 후 > 지역 사회 기반 코호트 데이터 셋을 활용해 외부 검증 수행
- 통계 모델(logistic) 1개와 6가지 머신러닝(randomforest, xgboost, lgbm, adaboost, logistic) 모델 비교 분석
- 언더샘플링 또한 동시에 진행했지만 원본 데이터로 분석한 결과가 더 성능이 높게 나왔기에 그대로 진행
- 언더샘플링 대신 yoden index를 활용한 threshold 조정을 통해서 모델링 성능 향상

  **<통계 모델>**
  - 통계 유의성 검토한결과 남녀 하나씩 제외됨. (남성: 결혼상태, 여성: 흡연여부)
  - 총 16개의 변수 중 stepwise를 활용해 변수를 선택한 결과, 남성 집단에서 9개, 여성 집단에서 7개의 변수 선정

  **<머신러닝 모델>**
  - 변수 선택 방식 : feature importanc와 Recursive Feature Elimination 두가지 변수 선택 방식으로 진행
  - feature importance의 경우 양방향 stepwise를 활용해 변수 기준 설정 > 남성 : 10개 / 여성 : 9개
  - Recursive Feature Elimination의 경우 15개와 10개 변수 조합을 비교한 결과, 예측 성능이 우수한 10개 변수 선정 기준 설정
  
  **<최종 선정된 변수 중요도 순위>**
  <img width="1727" height="569" alt="3333" src="https://github.com/user-attachments/assets/08259957-d1a9-46f6-829f-9d21ca0f90ce" />


### 4. 모델링 결과
- 정확도(Accuracy), 정밀도(Precision), 재현율(Recall), F1-score 및 AUC-ROC 곡선을 활용하여 모델 성능 비교
- 그 중 **AUC**와 **Recall** 향상에 중점적으로 분석
- 6개의 모델 중 **남성**의 경우 **통계 로지스틱 모델 AUC : 0.71** / **여성**의 경우 **머신러닝 로지스틱 모델 AUC : 0.78** 달성
- AUC가 0.7 이상으로 나온 모델의 Recal(재현율) 확인 결과 >> **남성 : 0.70 이상 / 여성 : 0.8 이상**의 수치 달성
- 결론 : 남성보다 여성에게 비침습적 당뇨병 예측 정확도가 더 높음


### 5. 역할 및 성과
- 팀장 역할 : notion을 활용한 전체적인 과정 요약 및 정리
- 정기 회의를 통한 교수님과 과정 소통 및 발표
- 대한의료정보학회 E-POSTER 발표 주제로 선정
- 11월 중으로 국문 논문 등록 예정
